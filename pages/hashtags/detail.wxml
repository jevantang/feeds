<!-- *
    Fresns 微信小程序 (https://fresns.cn)
    Copyright 2021-Present 唐杰
    Licensed under the Apache-2.0 license
* -->
<view class="page" data-weui-theme="{{ theme }}">
    <view class="weui-media-box weui-media-box_appmsg">
        <view class="weui-media-box__hd" wx:if="{{ hashtag.cover }}">
            <image class="weui-media-box__thumb" src="{{ hashtag.cover }}"></image>
        </view>
        <view class="weui-media-box__bd">
            <view class="weui-media-box__title">{{ hashtag.hname }}</view>
            <view class="weui-media-box__desc">{{ hashtag.postCount }} {{ fsConfig.post_name }} <text style="margin: 0 5px;">|</text> {{ hashtag.postDigestCount }} {{ fsLang.contentDigest }}</view>
        </view>
        <view class="weui-media-box__ft">
            <t-button 
                size="small" 
                icon="{{ hashtag.interaction.followStatus ? 'check' : '' }}" 
                variant="{{ hashtag.interaction.followStatus ? '' : 'outline' }}" 
                content="{{ hashtag.interaction.followName }}" 
                bind:tap="onClickHashtagFollow" 
                data-hid="{{ hashtag.hid }}"/>
        </view>
    </view>

    <view class="hashtag-description" wx:if="{{ hashtag.description }}">
        <text>{{ hashtag.description }}</text>
    </view>

    <t-tabs default-value="{{ value }}" sticky space-evenly="{{ false }}" bind:change="onTabsChange" bind:click="onTabsClick" t-class="custom-tabs">
        <t-tab-panel label="{{ fsLang.contentNewList }}" value="0" />
        <t-tab-panel label="{{ fsLang.contentHotList }}" value="1" />
        <t-tab-panel label="{{ fsLang.contentDigest }}" value="2" />
    </t-tabs>

    <!-- 帖子列表 -->
    <view class="post-list" wx:for="{{ posts }}" wx:for-item="post" wx:key="pid">
        <post post="{{ post }}" type="list"></post>
    </view>

    <!-- 加载动效 -->
    <loading status="{{ loadingStatus }}" tipType="{{ loadingTipType }}"></loading>

    <view class="weui-loadmore weui-loadmore_line tabbar-spacing">
        <text class="weui-loadmore__tips">Powered by Fresns</text>
    </view>
</view>
